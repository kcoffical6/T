---
export interface Props {
    package: {
        _id: string
        title: string
        slug: string
        shortDesc: string
        longDesc: string
        itinerary: Array<{
            day: number
            activities: string[]
            accommodation: string
            meals: string[]
        }>
        minPax: number
        maxPax: number
        basePricePerPax: number
        images: string[]
        region: string
        tags: string[]
        featured: boolean
        inclusions: string[]
        exclusions: string[]
        cancellationPolicy: string
        termsAndConditions: string
        commissionOverride: number
    }
}

const { package: pkg } = Astro.props
---

<div class='min-h-screen bg-gray-900 text-white'>
    <!-- Hero Section -->
    <section class='relative bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 py-20'>
        <div class='container mx-auto px-4'>
            <div class='mx-auto max-w-4xl text-center'>
                <h1 class='mb-6 text-4xl font-bold text-white md:text-6xl'>
                    {pkg.title}
                </h1>
                <p class='mb-8 text-xl text-gray-300 md:text-2xl'>
                    {pkg.shortDesc}
                </p>
                <div class='mb-8 flex flex-wrap justify-center gap-4'>
                    {
                        pkg.tags.map((tag) => (
                            <span class='rounded-full bg-primary-600 px-4 py-2 text-sm font-medium text-white'>
                                {tag.replace('-', ' ').toUpperCase()}
                            </span>
                        ))
                    }
                </div>
                <div class='text-3xl font-bold text-primary-400'>
                    ₹{pkg.basePricePerPax.toLocaleString()} per person
                </div>
            </div>
        </div>
    </section>

    <!-- Package Images -->
    <section class='bg-gray-800 py-12'>
        <div class='container mx-auto px-4'>
            <div class='grid grid-cols-1 gap-6 md:grid-cols-3'>
                {
                    pkg.images.map((image) => (
                        <div class='relative overflow-hidden rounded-lg shadow-lg'>
                            <img
                                src={image}
                                alt={pkg.title}
                                class='h-64 w-full object-cover transition-transform duration-300 hover:scale-105'
                            />
                        </div>
                    ))
                }
            </div>
        </div>
    </section>

    <!-- Package Details -->
    <section class='bg-gray-900 py-16'>
        <div class='container mx-auto px-4'>
            <div class='grid grid-cols-1 gap-12 lg:grid-cols-3'>
                <!-- Main Content -->
                <div class='lg:col-span-2'>
                    <div class='mb-8 rounded-lg bg-gray-800 p-8'>
                        <h2 class='mb-6 text-3xl font-bold text-white'>Package Description</h2>
                        <p class='text-lg leading-relaxed text-gray-300'>
                            {pkg.longDesc}
                        </p>
                    </div>

                    <!-- Itinerary -->
                    <div class='rounded-lg bg-gray-800 p-8'>
                        <h2 class='mb-8 text-3xl font-bold text-white'>Detailed Itinerary</h2>
                        <div class='space-y-8'>
                            {
                                pkg.itinerary.map((day) => (
                                    <div class='border-l-4 border-primary-500 pl-6'>
                                        <div class='mb-4 flex items-center'>
                                            <div class='flex size-12 items-center justify-center rounded-full bg-primary-600 text-lg font-bold text-white'>
                                                {day.day}
                                            </div>
                                            <h3 class='ml-4 text-xl font-semibold text-white'>Day {day.day}</h3>
                                        </div>

                                        <div class='mb-4'>
                                            <h4 class='mb-2 text-lg font-medium text-gray-200'>Activities:</h4>
                                            <ul class='list-inside list-disc space-y-1 text-gray-300'>
                                                {day.activities.map((activity) => (
                                                    <li>{activity}</li>
                                                ))}
                                            </ul>
                                        </div>

                                        <div class='mb-4'>
                                            <h4 class='mb-2 text-lg font-medium text-gray-200'>Accommodation:</h4>
                                            <p class='text-gray-300'>{day.accommodation}</p>
                                        </div>

                                        <div>
                                            <h4 class='mb-2 text-lg font-medium text-gray-200'>Meals:</h4>
                                            <p class='text-gray-300'>{day.meals.join(', ')}</p>
                                        </div>
                                    </div>
                                ))
                            }
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class='lg:col-span-1'>
                    <!-- Booking Card -->
                    <div class='sticky top-8 mb-8 rounded-lg bg-gray-800 p-6'>
                        <h3 class='mb-6 text-2xl font-bold text-white'>Book This Package</h3>
                        <div class='mb-6 text-center'>
                            <div class='mb-2 text-4xl font-bold text-primary-400'>
                                ₹{pkg.basePricePerPax.toLocaleString()}
                            </div>
                            <div class='text-gray-300'>per person</div>
                        </div>

                        <div class='mb-6 space-y-4'>
                            <div class='flex justify-between text-gray-300'>
                                <span>Group Size:</span>
                                <span class='text-white'>{pkg.minPax} - {pkg.maxPax} people</span>
                            </div>
                            <div class='flex justify-between text-gray-300'>
                                <span>Duration:</span>
                                <span class='text-white'>{pkg.itinerary.length} days</span>
                            </div>
                            <div class='flex justify-between text-gray-300'>
                                <span>Region:</span>
                                <span class='capitalize text-white'>{pkg.region}</span>
                            </div>
                        </div>

                        <button
                            class='w-full rounded-lg bg-primary-600 px-6 py-3 font-bold text-white transition-colors hover:bg-primary-700'
                        >
                            Book Now
                        </button>
                    </div>

                    <!-- Inclusions & Exclusions -->
                    <div class='mb-8 rounded-lg bg-gray-800 p-6'>
                        <h3 class='mb-4 text-xl font-bold text-white'>What's Included</h3>
                        <ul class='space-y-2 text-gray-300'>
                            {
                                pkg.inclusions.map((inclusion) => (
                                    <li class='flex items-start'>
                                        <span class='mr-2 text-green-400'>✓</span>
                                        {inclusion}
                                    </li>
                                ))
                            }
                        </ul>
                    </div>

                    <div class='rounded-lg bg-gray-800 p-6'>
                        <h3 class='mb-4 text-xl font-bold text-white'>What's Not Included</h3>
                        <ul class='space-y-2 text-gray-300'>
                            {
                                pkg.exclusions.map((exclusion) => (
                                    <li class='flex items-start'>
                                        <span class='mr-2 text-red-400'>✗</span>
                                        {exclusion}
                                    </li>
                                ))
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Policies -->
    <section class='bg-gray-800 py-16'>
        <div class='container mx-auto px-4'>
            <div class='mx-auto max-w-4xl'>
                <div class='grid grid-cols-1 gap-8 md:grid-cols-2'>
                    <div class='rounded-lg bg-gray-900 p-6'>
                        <h3 class='mb-4 text-xl font-bold text-white'>Cancellation Policy</h3>
                        <p class='text-gray-300'>{pkg.cancellationPolicy}</p>
                    </div>

                    <div class='rounded-lg bg-gray-900 p-6'>
                        <h3 class='mb-4 text-xl font-bold text-white'>Terms & Conditions</h3>
                        <p class='text-gray-300'>{pkg.termsAndConditions}</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
